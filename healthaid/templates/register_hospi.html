{% extends 'layout.html' %}

{% block cust_stylesheet %}
  <link rel="stylesheet" href="{{ url_for('static', filename='register.css') }}">
{% endblock %}

{% block content %}
<div class="container-fluid main-body">
<div class="container">
  <div class="row my-4">
    <div class="col-8 pl-5 pr-5 mx-auto" id="main-container">
      <form method="POST" action="" class="form">
        {{ form.hidden_tag() }}
        <fieldset class="form-group">
          <legend class="border-bottom p-3 mb-4">Register Hospital</legend>
          <div class="form-group">
            {{ form.name.label(class="form-control-label") }}
            {% if form.name.errors %}
              {{ form.name(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.name.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.name(class="form-control form-control") }}
            {% endif %}
          </div>
<!-- 
          <input class="col-md-6 form-control location-area pl-4" type="search" placeholder="Search Hospitals" 
          aria-label="Search"> -->

          <div class="form-group">
            {{ form.address.label(class="form-control-label") }}
            {% if form.address.errors %}
              {{ form.address(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.address.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.address(class="form-control form-control location-area", id="autocomplete") }}
            {% endif %}
          </div>

          <div class="form-group">
              {{ form.email.label(class="form-control-label") }}
              {% if form.email.errors %}
                {{ form.email(class="form-control form-control is-invalid") }}
                <div class="invalid-feedback">
                  {% for error in form.email.errors %}
                  <span>{{ error }}</span>
                  {% endfor %}
                </div>
              {% else %}
                {{ form.email(class="form-control form-control") }}
              {% endif %}
            </div>

          <div class="form-group">
            {{ form.vacancy.label(class="form-control-label") }}
            {% if form.vacancy.errors %}
              {{ form.vacancy(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.vacancy.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.vacancy(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.total_beds.label(class="form-control-label") }}
            {% if form.total_beds.errors %}
              {{ form.total_beds(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.total_beds.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.total_beds(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.sev1_bud.label(class="form-control-label") }}
            {% if form.sev1_bud.errors %}
              {{ form.sev1_bud(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.sev1_bud.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.sev1_bud(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.sev2_bud.label(class="form-control-label") }}
            {% if form.sev2_bud.errors %}
              {{ form.sev2_bud(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.sev2_bud.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.sev2_bud(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.sev3_bud.label(class="form-control-label") }}
            {% if form.sev3_bud.errors %}
              {{ form.sev3_bud(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.sev3_bud.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.sev3_bud(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.sev4_bud.label(class="form-control-label") }}
            {% if form.sev4_bud.errors %}
              {{ form.sev4_bud(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.sev4_bud.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.sev4_bud(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.sev5_bud.label(class="form-control-label") }}
            {% if form.sev5_bud.errors %}
              {{ form.sev5_bud(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.sev5_bud.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.sev5_bud(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.num_doc.label(class="form-control-label") }}
            {% if form.num_doc.errors %}
              {{ form.num_doc(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.num_doc.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.num_doc(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.num_nurse.label(class="form-control-label") }}
            {% if form.num_nurse.errors %}
              {{ form.num_nurse(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.num_nurse.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.num_nurse(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.num_equip.label(class="form-control-label") }}
            {% if form.num_equip.errors %}
              {{ form.num_equip(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.num_equip.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.num_equip(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.password.label(class="form-control-label") }}
            {% if form.password.errors %}
              {{ form.password(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.password.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.password(class="form-control form-control") }}
            {% endif %}
          </div>

          <div class="form-group">
            {{ form.confirm_password.label(class="form-control-label") }}
            {% if form.confirm_password.errors %}
              {{ form.confirm_password(class="form-control form-control is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.confirm_password.errors %}
                <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.confirm_password(class="form-control form-control") }}
            {% endif %}
          </div>
        </fieldset>
        <div class="form-group">
          {{ form.submit(class="btn btn-outline-info") }}
        </div>
      </form>
      <!--end of form -->

      <!-- <div class="border-top pt-3">
        <small class="text-muted">
          Already Have An Account? <a class="ml-2" href="{{ url_for('home') }}">Sign In</a>
        </small>
      </div> -->
    </div>
  </div>
</div>
</div>

{% endblock content %}

{% block cust_scripts %}
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdVpvGO8uGeUlz7o7qQBrMqyWb0P6JkIM&libraries=places&callback=initAutocomplete" async defer></script>
<script>
var placeSearch, autocomplete, geocoder;
function initAutocomplete() {
  geocoder = new google.maps.Geocoder();
  autocomplete = new google.maps.places.Autocomplete(
    (document.getElementById('autocomplete')), {
      types: ['geocode']
    });

  autocomplete.addListener('place_changed', fillInAddress);
}

function codeAddress(address) {
  geocoder.geocode({
    'address': address
  }, function(results, status) {
    if (status == 'OK') {
      // This is the lat and lng results[0].geometry.location
      alert(results[0].geometry.location);
    } else {
      alert('Geocode was not successful for the following reason: ' + status);
    }
  });
}

function fillInAddress() {
  var place = autocomplete.getPlace();
  codeAddress(document.getElementById('autocomplete').value);
}</script>
{% endblock %}